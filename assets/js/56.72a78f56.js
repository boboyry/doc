(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{383:function(a,s,t){"use strict";t.r(s);var e=t(4),r=Object(e.a)({},(function(){var a=this,s=a._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"常用命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[a._v("#")]),a._v(" 常用命令")]),a._v(" "),s("h2",{attrs:{id:"_1-linux"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-linux"}},[a._v("#")]),a._v(" 1.linux")]),a._v(" "),s("div",{staticClass:"language-powershell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[a._v("df "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("lh "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看磁盘使用情况  ")]),a._v("\ndu "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看文件大小")]),a._v("\nfdisk "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("lu "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看磁盘分区")]),a._v("\nlsof "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("n "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),a._v("grep deleted "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看没被释放的pid")]),a._v("\nlsof "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("i"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),a._v("wc "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("l "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看服务器连接数")]),a._v("\nss "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("s "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#网络统计")]),a._v("\nfind "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("name "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查找文件")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("ps")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("ef "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),a._v(" grep java\nfirewall-cmd "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("query-port=15672/tcp "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看端口是否开放")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("rf "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v("\n\n查看想开的端口是否已开：firewall-cmd "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("query-port=6379/tcp\n添加指定需要开放的端口：firewall-cmd "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add-port")]),a._v("=123/tcp "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("permanent\n重载入添加的端口：firewall-cmd "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("reload\n查询指定端口是否开启成功：firewall-cmd "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("query-port=123/tcp\n移除指定端口：firewall-cmd "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("permanent "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("remove-port")]),a._v("=123/tcp\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#docker")]),a._v("\ndocker inspect "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看容器信息")]),a._v("\ndocker build "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("t "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#以当前目录下的DockerFile制作镜像")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#kafka")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("kafka-run-"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("sh kafka"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("tools"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("GetOffsetShell "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("broker-list 127"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("1:9092 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("topic device"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("message "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("time "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("1 "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看主题的偏移量")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#multipass")]),a._v("\nmultipass "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("set")]),a._v(" local"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("bridged-network=WLAN "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("##设置桥接网络")]),a._v("\nmultipass list"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#本地虚拟机")]),a._v("\nmultipass launch "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("name vm2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("network bridged "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("##创建一个vm2虚拟机 使用桥接网络")]),a._v("\nmultipass shell vm2 "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#进入虚拟机")]),a._v("\nmultipass info "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("all "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看所有虚拟机的信息")]),a._v("\nmultipass delete vm2 "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#删除虚拟机")]),a._v("\nmultipass purge vm  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#释放虚拟机")]),a._v("\nmultipass stop vm  "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#停止虚拟机")]),a._v("\nmultipass "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("start")]),a._v(" vm "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#启动虚拟机 ")]),a._v("\nmultipass find   "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看可用乌班图镜像")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("##wubantu")]),a._v("\nip addr show "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#本机ip")]),a._v("\n\nubuntu官网地址如下：https:"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("ubuntu"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("com/\n阿里官网镜像地址如下：https:"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("developer"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("aliyun"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("com/mirror/\njpom自动运维：https:"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("jpom"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("top/\n内网穿透开源 https:"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("dromara"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("gitee"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("io/\n文档站点：https:"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("vuepress-theme-reco"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("recoluan"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("com/\nvuepress-theme-vdoing:https:"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("gitee"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("com/xugaoyi/vuepress-theme-vdoing\n飞鸟云：https:"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("feiniaoyun01"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("life/"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#/dashboard")]),a._v("\n免费域名证书：https:"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("keymanager"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("org/\ngit config "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("--")]),a._v("global https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("proxy socks5:"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("127"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("1:7890\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br"),s("span",{staticClass:"line-number"},[a._v("17")]),s("br"),s("span",{staticClass:"line-number"},[a._v("18")]),s("br"),s("span",{staticClass:"line-number"},[a._v("19")]),s("br"),s("span",{staticClass:"line-number"},[a._v("20")]),s("br"),s("span",{staticClass:"line-number"},[a._v("21")]),s("br"),s("span",{staticClass:"line-number"},[a._v("22")]),s("br"),s("span",{staticClass:"line-number"},[a._v("23")]),s("br"),s("span",{staticClass:"line-number"},[a._v("24")]),s("br"),s("span",{staticClass:"line-number"},[a._v("25")]),s("br"),s("span",{staticClass:"line-number"},[a._v("26")]),s("br"),s("span",{staticClass:"line-number"},[a._v("27")]),s("br"),s("span",{staticClass:"line-number"},[a._v("28")]),s("br"),s("span",{staticClass:"line-number"},[a._v("29")]),s("br"),s("span",{staticClass:"line-number"},[a._v("30")]),s("br"),s("span",{staticClass:"line-number"},[a._v("31")]),s("br"),s("span",{staticClass:"line-number"},[a._v("32")]),s("br"),s("span",{staticClass:"line-number"},[a._v("33")]),s("br"),s("span",{staticClass:"line-number"},[a._v("34")]),s("br"),s("span",{staticClass:"line-number"},[a._v("35")]),s("br"),s("span",{staticClass:"line-number"},[a._v("36")]),s("br"),s("span",{staticClass:"line-number"},[a._v("37")]),s("br"),s("span",{staticClass:"line-number"},[a._v("38")]),s("br"),s("span",{staticClass:"line-number"},[a._v("39")]),s("br"),s("span",{staticClass:"line-number"},[a._v("40")]),s("br"),s("span",{staticClass:"line-number"},[a._v("41")]),s("br"),s("span",{staticClass:"line-number"},[a._v("42")]),s("br"),s("span",{staticClass:"line-number"},[a._v("43")]),s("br"),s("span",{staticClass:"line-number"},[a._v("44")]),s("br"),s("span",{staticClass:"line-number"},[a._v("45")]),s("br"),s("span",{staticClass:"line-number"},[a._v("46")]),s("br"),s("span",{staticClass:"line-number"},[a._v("47")]),s("br")])]),s("h2",{attrs:{id:"_2-windows"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-windows"}},[a._v("#")]),a._v(" 2.windows")]),a._v(" "),s("div",{staticClass:"language-powershell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-powershell"}},[s("code",[a._v("netstat "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("aon"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),a._v("findstr "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"7848"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看 端口 7848")]),a._v("\ntasklist"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("|")]),a._v("findstr "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"23932"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看 pid为23932的进程")]),a._v("\ntaskkill "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("pid 23932 "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("-")]),a._v("f "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#强制结束 pid为23932的进程")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br")])]),s("h2",{attrs:{id:"_3-docker容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-docker容器"}},[a._v("#")]),a._v(" 3.docker容器")]),a._v(" "),s("h3",{attrs:{id:"_1-zookeeper"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-zookeeper"}},[a._v("#")]),a._v(" 1.zookeeper")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("iotlinks-zookeeper "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--user")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("root "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2181")]),a._v(":2181 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("TZ")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Asia/Shanghai wurstmeister/zookeeper\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_2-kafka"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-kafka"}},[a._v("#")]),a._v(" 2.kafka")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9092")]),a._v(":9092 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9999")]),a._v(":9999 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9093")]),a._v(":9093 --add-host kafka:172.17.0.1 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--user")]),a._v(" root "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" kafka "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /data/var/run/docker.sock:/var/run/docker.sock "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KAFKA_ADVERTISED_HOST_NAME")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("kafka "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("KAFKA_ZOOKEEPER_CONNECT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("172.17")]),a._v(".0.1:2181 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("JMX_PORT")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9998")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("TZ")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Asia/Shanghai wurstmeister/kafka\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_3-kafka-eagle"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-kafka-eagle"}},[a._v("#")]),a._v(" 3.kafka-eagle")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" kafka-eagle --add-host kafka:172.17.0.1 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("8048")]),a._v(":8048 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("EFAK_CLUSTER_ZK_LIST")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"172.17.0.1:2181"')]),a._v(" nickzurich/efak:latest\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_4-tdengine"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-tdengine"}},[a._v("#")]),a._v(" 4.TDengine")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("##集群版本")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("##主节点，这里没有指定host，后面我是去容器里面修改/etc/hosts文件的，理论上每个物理节点都需要维护好hosts")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" taosDB "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /home/taosData/dnode/data:/var/lib/taos "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /home/taosData/dnode/log:/var/log/taos "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6030")]),a._v(":6030 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6041")]),a._v(":6041 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6043")]),a._v("-6049:6043-6049 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6043")]),a._v("-6049:6043-6049/udp "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("TAOS_FQDN")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("td1 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("TAOS_FIRST_EP")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("td1 tdengine/tdengine:3.1.1.0\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("##子节点")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" taosDB "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" --add-host"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("td1:121.4.150.120 --add-host"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("td2:127.0.0.1 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /home/taosData/dnode/data:/var/lib/taos "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /home/taosData/dnode/log:/var/log/taos "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6030")]),a._v(":6030 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6041")]),a._v(":6041 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6043")]),a._v("-6049:6043-6049 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6043")]),a._v("-6049:6043-6049/udp "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("TAOS_FQDN")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("td2 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("TAOS_FIRST_EP")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("td1  tdengine/tdengine:3.1.1.0\n\ncreate dnode td2"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br")])]),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("##单机版本")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" taosDB "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /home/taosData/dnode/data:/var/lib/taos "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /home/taosData/dnode/log:/var/log/taos "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6030")]),a._v(":6030 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6041")]),a._v(":6041 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6043")]),a._v("-6049:6043-6049 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6043")]),a._v("-6049:6043-6049/udp tdengine/tdengine\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("h3",{attrs:{id:"_5-jar-dockerfile"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-jar-dockerfile"}},[a._v("#")]),a._v(" 5.JAR DockerFile")]),a._v(" "),s("div",{staticClass:"language-dockerfile line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-dockerfile"}},[s("code",[s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("FROM")]),a._v(" openjdk:8")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 切换文件夹")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("WORKDIR")]),a._v(" /jar")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("COPY")]),a._v(" xboot-admin-1.0-SNAPSHOT.jar xboot-admin-1.0-SNAPSHOT.jar")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("EXPOSE")]),a._v(" 8889")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token instruction"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("CMD")]),a._v(" ["),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"java"')]),a._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"-jar"')]),a._v(", "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"xboot-admin-1.0-SNAPSHOT.jar"')]),a._v("]")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br")])]),s("h3",{attrs:{id:"_6-nginx"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_6-nginx"}},[a._v("#")]),a._v(" 6.Nginx")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#先随便run一个docker的nginx镜像，然后复制以下nginx文件到宿主机")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" nginx "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v(":80 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" nginx\n\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" nginx:/etc/nginx/nginx.conf /www/docker/nginx/conf/nginx.conf\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" nginx:/etc/nginx/conf.d /www/docker/nginx/conf/conf.d\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("cp")]),a._v(" nginx:/usr/share/nginx/html /www/docker/nginx/\n\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" nginx "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("80")]),a._v(":80 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always \n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /www/docker/nginx/conf/nginx.conf:/etc/nginx/nginx.conf \n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /www/docker/nginx/conf/conf.d:/etc/nginx/conf.d \n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /www/docker/nginx/log:/var/log/nginx \n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /www/docker/nginx/html:/usr/share/nginx/html \n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /www/docker/nginx/project:/www/docker/nginx/project \nnginx:latest\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br"),s("span",{staticClass:"line-number"},[a._v("15")]),s("br"),s("span",{staticClass:"line-number"},[a._v("16")]),s("br")])]),s("h3",{attrs:{id:"_7-elasticsearch"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_7-elasticsearch"}},[a._v("#")]),a._v(" 7.Elasticsearch")]),a._v(" "),s("div",{staticClass:"language-SHELL line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#es启动")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9200")]),a._v(":9200 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("9300")]),a._v(":9300 "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--user")]),a._v(" root "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" elasticsearch "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /home/data/elasticsearch:/usr/share/elasticsearch/data "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("TZ")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("Asia/Shanghai "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--ulimit")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("memlock")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("-1:-1 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("ES_JAVA_OPTS")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"-Djava.net.preferIPv4Stack=true -Xms4g -\nXmx11g"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("transport.host")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0.0")]),a._v(".0.0 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("discovery.type")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("single-node "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("bootstrap.memory_lock")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"true"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("discovery.zen.minimum_master_nodes")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("discovery.zen.ping.unicast.hosts")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("elasticsearch elasticsearch:7.14.0\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br")])]),s("p",[a._v("补充说明")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#log4j问题增加jvm参数")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("exec")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-it")]),a._v(" elasticsearch /bin/bash\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" config/jvm.options\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#找到# log4j 2配置，增加一行配置")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Dlog4j2.formatMsgNoLookups")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br")])]),s("h3",{attrs:{id:"_8-mysql"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_8-mysql"}},[a._v("#")]),a._v(" 8.mysql")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--restart")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("always "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3306")]),a._v(":3306 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--privileged")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("true "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /home/docker/mysql/log:/var/log/mysql "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /home/docker/mysql/data:/var/lib/mysql  "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-e")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token assign-left variable"}},[a._v("MYSQL_ROOT_PASSWORD")]),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("hycen@123456 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" mysql mysql:8.0\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h3",{attrs:{id:"_9-redis"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_9-redis"}},[a._v("#")]),a._v(" 9.redis")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("docker")]),a._v(" run "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--name")]),a._v(" redis "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("6379")]),a._v(":6379 "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /home/docker/redis/data:/data "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),a._v(" /home/docker/redis/conf/redis.conf:/etc/redis/redis.conf "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-d")]),a._v(" redis redis-server /etc/redis/redis.conf\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br")])]),s("h2",{attrs:{id:"_4-源码安装"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-源码安装"}},[a._v("#")]),a._v(" 4.源码安装")]),a._v(" "),s("h3",{attrs:{id:"_1-安装erlang-23-2-7-2-el7-x86-64"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装erlang-23-2-7-2-el7-x86-64"}},[a._v("#")]),a._v(" 1.安装erlang(23.2.7-2.el7.x86_64)")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#参考博客：https://blog.csdn.net/Milogenius/article/details/125224527")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#erlang下载参考：https://packagecloud.io/rabbitmq/erlang/packages/el/7/erlang-23.2.7-2.el7.x86_64.rpm")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(".curl "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-s")]),a._v(" https://packagecloud.io/install/repositories/rabbitmq/erlang/script.rpm.sh "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("bash")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(".sudo yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" erlang-23.2.7-2.el7.x86_64\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(".erl "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-v")]),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#出现版本信息即可")]),a._v("\n\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br")])]),s("h3",{attrs:{id:"_2安装rabbitmq-3-8-14"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2安装rabbitmq-3-8-14"}},[a._v("#")]),a._v(" 2安装RabbitMQ(3.8.14)")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#参考博客：https://blog.csdn.net/Milogenius/article/details/125224527")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#下载地址：https://github.com/rabbitmq/rabbitmq-server/releases/tag/v3.8.14")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("1")]),a._v(".yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" socat"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#安装socat")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v(".rpm "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-Uvh")]),a._v(" rabbitmq-server-3.8.14-1.el7.noarch.rpm"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#解压rabbitmq")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(".yum "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-y")]),a._v(" rabbitmq-server"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#安装rabbitmq服务")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("4")]),a._v(".systemctl start rabbitmq-server"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#启动mq服务")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("5")]),a._v(".systemctl status rabbitmq-server"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#查看rabbitmq状态，出现如下结果就是启动成功了")]),a._v("\n\t"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#rabbitmq-server.service - RabbitMQ broker")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#Loaded: loaded (/usr/lib/systemd/system/rabbitmq-server.service; disabled; vendor \tpreset: disabled)")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#Active: active (running) since 二 2023-05-23 11:40:09 CST; 10s ago")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br")])]),s("p",[a._v("安装RabbitMq管理界面")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 打开RabbitMQWeb管理界面插件")]),a._v("\nrabbitmq-plugins "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" rabbitmq_management\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br")])]),s("p",[a._v("成功之后即可ip:15672访问可视化管理界面")]),a._v(" "),s("p",[a._v("因为默认账号密码只支持localhost访问，所以要添加一个用户")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 添加用户")]),a._v("\nrabbitmqctl add_user 用户名 密码\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 设置用户角色,分配操作权限")]),a._v("\nrabbitmqctl set_user_tags 用户名 角色\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 为用户添加资源权限(授予访问虚拟机根节点的所有权限)")]),a._v("\nrabbitmqctl set_permissions "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" / 用户名 "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('".*"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('".*"')]),a._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('".*"')]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#角色信息")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#administrator：可以登录控制台、查看所有信息、并对rabbitmq进行管理")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#monToring：监控者；登录控制台，查看所有信息")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#policymaker：策略制定者；登录控制台指定策略")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("#managment：普通管理员；登录控制")]),a._v("\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br"),s("span",{staticClass:"line-number"},[a._v("10")]),s("br"),s("span",{staticClass:"line-number"},[a._v("11")]),s("br"),s("span",{staticClass:"line-number"},[a._v("12")]),s("br"),s("span",{staticClass:"line-number"},[a._v("13")]),s("br"),s("span",{staticClass:"line-number"},[a._v("14")]),s("br")])]),s("p",[a._v("其他Rabbitmq命令")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 设置rabbitmq服务开机自启动")]),a._v("\nsystemctl "),s("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" rabbitmq-server\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 关闭rabbitmq服务")]),a._v("\nsystemctl stop rabbitmq-server\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 重启rabbitmq服务")]),a._v("\nsystemctl restart rabbitmq-server\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br")])]),s("h3",{attrs:{id:"_3安装jenkins"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3安装jenkins"}},[a._v("#")]),a._v(" 3安装jenkins")]),a._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("wget")]),a._v(" https://repo.huaweicloud.com/jenkins/redhat-stable/jenkins-2.190.3-1.1.noarch.rpm\n\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("rpm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-ivh")]),a._v(" jenkins-2.190.3-1.1.noarch.rpm\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("##配置一下java路径")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("vi")]),a._v(" /etc/init.d/jenkins\n/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.382.b05-1.el7_9.x86_64/bin/java\n\n")])]),a._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[a._v("1")]),s("br"),s("span",{staticClass:"line-number"},[a._v("2")]),s("br"),s("span",{staticClass:"line-number"},[a._v("3")]),s("br"),s("span",{staticClass:"line-number"},[a._v("4")]),s("br"),s("span",{staticClass:"line-number"},[a._v("5")]),s("br"),s("span",{staticClass:"line-number"},[a._v("6")]),s("br"),s("span",{staticClass:"line-number"},[a._v("7")]),s("br"),s("span",{staticClass:"line-number"},[a._v("8")]),s("br"),s("span",{staticClass:"line-number"},[a._v("9")]),s("br")])])])}),[],!1,null,null,null);s.default=r.exports}}]);